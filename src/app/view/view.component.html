<div class="container-fluid no-print">
  <div class="row">
    <div class="col-md-2 col-xs-12" style="padding-left: 0px; cursor: pointer;" [routerLink]="['']">
      <img src="scorecard.svg" style="height: 58px; width: 48px"> <span style="font-size: 20px"> Score Card</span>
    </div>
    <div  class="col-md-8 col-xs-12">

    </div>
    <div class="col-md-2 col-xs-12" style="margin-top: 14px">
      <button class="btn btn-outline-secondary btn-sm pull-right cursor" [routerLink]="['']" style="height: 30px;margin-left: 5px">
        <i class="fa fa-home"></i> home</button>
    </div>
  </div>
</div>
<!--<p class="text-center">-->
  <!--<LoadingComponent *ngIf="loading"></LoadingComponent>-->
<!--</p>-->
<div id="options" class="container-fluid " style="margin-top: 20px" *ngIf="!loading">
  <div class="row no-print">
    <div class="col-md-4 col-xs-12" style="padding-left: 0px; cursor: pointer;">
      <app-org-unit-filter
        [showUpdate]="true"
        [orgunit_model] = "scorecard.data.orgunit_settings"
        (onOrgUnitChange)= "changeOrgUnit($event)"
        (onOrgUnitUpdate)= "updateOrgUnit($event)"
      ></app-org-unit-filter>
    </div>
    <div  class="col-md-4 col-xs-12">
      <app-period-filter
        #periodComponent
        [showUpdate]="true"
        [selected_periods]="scorecard.data.selected_periods"
        [period_type]="scorecard.data.periodType"
        (onPeriodUpdate) = "updatePeriod($event)"
        (onPeriodChange) = "changePeriod($event)"
      ></app-period-filter>
    </div>
    <div class="col-md-4 col-xs-12">
      <!--Scorecard refresh button-->
      <button
        (mouseenter)="refreshHovered = true"
        (mouseleave)="refreshHovered = false"
        class="btn btn-outline-secondary btn-sm pull-right cursor"
        (click)="loadScoreCard()" style="height: 35px;margin-left: 3px" title="Refresh">
        <i class="fa fa-refresh"></i>
        <span *ngIf="refreshHovered">Refresh</span>
      </button>
      <!--Excel download button-->
      <button (mouseenter)="excelHovered = true"
              (mouseleave)="excelHovered = false"
              class="btn btn-outline-secondary btn-sm pull-right cursor"
              style="height: 35px;margin-left: 3px"
              title="Download Excel">
        <i class="fa fa-file-excel-o"></i>
        <span *ngIf="excelHovered"> Excel</span>
      </button>
      <!--Printing button-->
      <button
        (mouseenter)="printHovered = true"
        (mouseleave)="printHovered = false"
        class="btn btn-outline-secondary btn-sm pull-right cursor"
        (click)="browserPrint()"
        style="height: 35px;margin-left: 3px" title="Print"
      >
        <i class="fa fa-print"></i>
        <span *ngIf="printHovered">Print</span>
      </button>
      <!--Editing button-->
      <button
        (mouseenter)="editHovered = true"
        (mouseleave)="editHovered = false"
        class="btn btn-outline-secondary btn-sm pull-right cursor"
        style="height: 35px;margin-right: 3px; margin-left: 3px" *ngIf="scorecard.can_edit"
        [routerLink]="['../../create','edit',scorecard.id]"
      >
        <i class="fa fa-pencil-square-o"></i>
        <span *ngIf="editHovered">Edit</span>
      </button>
      <!--Additional options for a scorecard-->
      <app-options
        *ngIf="scorecard"
        [mode]="'view'"
        [scorecard]="scorecard"
        (onOptionUpdate) = "optionUpdated($event)"
      ></app-options>

    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <app-scorecard
        #childScoreCard
        [scorecard]="scorecard"
        [selectedOrganisationUnit]="selectedOrganisationUnits$ | async"
        [selectedPeriod]="selectedPeriod$ | async"
        [functions]="functions$ | async"
      ></app-scorecard>
    </div>
  </div>
</div>
